# ============================================================================
# CoreVital - Default Configuration
# 
# Purpose: Default configuration for all monitoring runs
# Inputs: None (base configuration)
# Outputs: Configuration loaded by config.py
# Dependencies: None
# Usage: Override via CLI arguments or environment variables
# 
# Changelog:
#   2026-01-13: Initial configuration for Phase-0
#   2026-02-07: Phase-1a — added new metric names to attention.stats and logits.stats
#   2026-02-10: Phase-1b — added prompt_telemetry section (enabled, sparse_threshold)
# ============================================================================

model:
  hf_id: "gpt2"
  revision: null
  trust_remote_code: false
  dtype: "auto"  # auto, float32, float16, bfloat16
  load_in_4bit: false
  load_in_8bit: false

device:
  requested: "auto"  # auto, cpu, cuda

generation:
  max_new_tokens: 20
  do_sample: true
  temperature: 0.8
  top_k: 50
  top_p: 0.95
  seed: 42

summaries:
  hidden:
    enabled: true
    stats:
      - mean
      - std
      - l2_norm_mean
      - max_abs
    sketch:
      method: "randproj"
      dim: 32
      seed: 0
  
  attention:
    enabled: true
    stats:
      - entropy_mean
      - entropy_min
      - entropy_max
      - concentration_max
      - concentration_min
      - collapsed_head_count
      - focused_head_count
  
  logits:
    enabled: true
    stats:
      - entropy
      - top1_top2_margin
      - topk_probs
      - top_k_margin
      - voter_agreement
      - perplexity
      - surprisal
    topk: 5

sink:
  type: "local_file"  # local_file, http
  output_dir: "runs"
  remote_url: null

prompt_telemetry:
  enabled: true
  sparse_threshold: 0.01  # Store attention weights above this value

logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"